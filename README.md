# codecraft 2019

## 初赛模型

我们把问题重述为在2D平面图上规划一条路径，并且考虑总费用最小的问题。

同时引入一个时空的规划表，规划表记录着之前已规划好的路径。

求解的方法就是Dijkstra，但是我们将其纳入PFS框架下，并与规划表结合。

PFS在遍历的过程中 是否走某一条路 取决于这条路本身的性质和路况

这样问题本身就变成了一个在 双边带权的有向图上 求最小费最大流的问题了

但是最小费最大流太麻烦了，更新起来也很麻烦，我们不找最优解，只要每一步是贪心的就行了。

这样就成了用规划方法求解一条路径的问题了。

## 复赛

改变需求后，我们之前的模型还是太小了

我们准备了一个更大的箩筐来装<del>出题人</del>新需求。

把问题看作 在箩筐中 放置软木条的问题

三维时空就是 箩筐 优先、预置、普通车的轨迹 就是硬度、粗细、大小不一样的木条

这样就又成了一个背包问题

通过一些放置次序的策略 ： 优先车 > 预置车 + 普通车 体现优先性

为了防止死锁 木条应该放置的足够均匀 彼此之间不应该有压叠

我们做了一些假设来简化模型：
    1. 如果 一条路径的时空子路死锁、那么这条路也死锁
    2. 如果 一辆车在当前时空子路上死锁、其他车也会在当前时空的这一子路死锁 （可能是不合理的 慢车死锁 快车也会死锁吗 不知道 是个概率问题）
   
   假设1的作用是 将一段路径是否死锁的评价 交给了 一段路径的评价 于是降低复杂度
    如果一条路径上 有一个路段死锁 这条路也是死锁的 于是我们不需要评价一条路是否好 只需要评价路的一段是否好就可以了
    而我们如何评价一条路会不会死锁呢？我们训练一个分类器就可以了
        初赛中的分类器有两个维 ： 路径时间阻抗系数 和 路径容量
        我们可以用更多的知识 把各种特征输进来 然后将问题用EM/弱监督/卡尔曼来估计绕路器参数 （然而并没有实现）

   假设2其实是 动态规划，单纯是为了减少搜索的次数 让求解速度变快